{
  "asyncapi": "2.6.0",
  "info": {
    "title": "vibe80 WebSocket API",
    "version": "1.1.0",
    "description": "Chat + worktree + terminal websockets. Connect with ?session=SESSION_ID and send an initial {type:'auth', token:'<workspace JWT>'} message within 5s."
  },
  "servers": {
    "chat": {
      "url": "ws://localhost:5179/ws",
      "protocol": "ws",
      "description": "Chat/worktree socket. Query: ?session=SESSION_ID. Authenticate with auth message."
    },
    "terminal": {
      "url": "ws://localhost:5179/terminal",
      "protocol": "ws",
      "description": "Terminal socket. Query: ?session=SESSION_ID and optional &worktreeId=ID. Authenticate with auth message."
    }
  },
  "channels": {
    "/ws": {
      "parameters": {
        "session": {
          "description": "Session ID",
          "schema": {
            "type": "string"
          }
        }
      },
      "publish": {
        "summary": "Client -> Server",
        "message": {
          "oneOf": [
            {
              "$ref": "#/components/messages/Auth"
            },
            {
              "$ref": "#/components/messages/Ping"
            },
            {
              "$ref": "#/components/messages/ActionRequest"
            },
            {
              "$ref": "#/components/messages/WakeUp"
            },
            {
              "$ref": "#/components/messages/WorktreeSendMessage"
            },
            {
              "$ref": "#/components/messages/WorktreeMessagesSyncRequest"
            },
            {
              "$ref": "#/components/messages/TurnInterrupt"
            },
            {
              "$ref": "#/components/messages/ModelListRequest"
            },
            {
              "$ref": "#/components/messages/ModelSetRequest"
            },
            {
              "$ref": "#/components/messages/AccountLoginStart"
            },
            {
              "$ref": "#/components/messages/SwitchProvider"
            }
          ]
        }
      },
      "subscribe": {
        "summary": "Server -> Client",
        "message": {
          "oneOf": [
            {
              "$ref": "#/components/messages/Pong"
            },
            {
              "$ref": "#/components/messages/AuthOk"
            },
            {
              "$ref": "#/components/messages/Error"
            },
            {
              "$ref": "#/components/messages/Status"
            },
            {
              "$ref": "#/components/messages/Ready"
            },
            {
              "$ref": "#/components/messages/ProviderStatus"
            },
            {
              "$ref": "#/components/messages/WorktreeStatus"
            },
            {
              "$ref": "#/components/messages/WorktreeReady"
            },
            {
              "$ref": "#/components/messages/RepoDiff"
            },
            {
              "$ref": "#/components/messages/WorktreeDiff"
            },
            {
              "$ref": "#/components/messages/AgentReasoning"
            },
            {
              "$ref": "#/components/messages/AssistantDelta"
            },
            {
              "$ref": "#/components/messages/AssistantMessage"
            },
            {
              "$ref": "#/components/messages/CommandExecutionDelta"
            },
            {
              "$ref": "#/components/messages/CommandExecutionCompleted"
            },
            {
              "$ref": "#/components/messages/ItemStarted"
            },
            {
              "$ref": "#/components/messages/TurnStarted"
            },
            {
              "$ref": "#/components/messages/TurnCompleted"
            },
            {
              "$ref": "#/components/messages/TurnError"
            },
            {
              "$ref": "#/components/messages/TurnInterruptSent"
            },
            {
              "$ref": "#/components/messages/ActionRequestEcho"
            },
            {
              "$ref": "#/components/messages/ActionResult"
            },
            {
              "$ref": "#/components/messages/WorktreeMessagesSync"
            },
            {
              "$ref": "#/components/messages/ProviderSwitched"
            },
            {
              "$ref": "#/components/messages/ModelListResponse"
            },
            {
              "$ref": "#/components/messages/ModelSetResponse"
            },
            {
              "$ref": "#/components/messages/AccountLoginStarted"
            },
            {
              "$ref": "#/components/messages/AccountLoginError"
            },
            {
              "$ref": "#/components/messages/AccountLoginCompleted"
            },
            {
              "$ref": "#/components/messages/RpcLog"
            }
          ]
        }
      }
    },
    "/terminal": {
      "parameters": {
        "session": {
          "description": "Session ID",
          "schema": {
            "type": "string"
          }
        },
        "worktreeId": {
          "description": "Optional worktree id",
          "schema": {
            "type": "string"
          }
        }
      },
      "publish": {
        "summary": "Client -> Server",
        "message": {
          "oneOf": [
            {
              "$ref": "#/components/messages/Auth"
            },
            {
              "$ref": "#/components/messages/TerminalInit"
            },
            {
              "$ref": "#/components/messages/TerminalResize"
            },
            {
              "$ref": "#/components/messages/TerminalInput"
            }
          ]
        }
      },
      "subscribe": {
        "summary": "Server -> Client",
        "message": {
          "oneOf": [
            {
              "$ref": "#/components/messages/AuthOk"
            },
            {
              "$ref": "#/components/messages/Error"
            },
            {
              "$ref": "#/components/messages/TerminalOutput"
            },
            {
              "$ref": "#/components/messages/TerminalExit"
            }
          ]
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Provider": {
        "type": "string",
        "enum": [
          "codex",
          "claude"
        ]
      },
      "AttachmentRef": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "path": {
            "type": "string"
          },
          "size": {
            "type": "integer"
          }
        },
        "additionalProperties": true
      },
      "Message": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "text": {
            "type": "string"
          },
          "attachments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AttachmentRef"
            }
          },
          "provider": {
            "$ref": "#/components/schemas/Provider"
          },
          "toolResult": {
            "type": "object"
          }
        },
        "additionalProperties": true
      },
      "RepoDiff": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string"
          },
          "diff": {
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "RpcLogEntry": {
        "type": "object",
        "properties": {
          "direction": {
            "type": "string",
            "enum": [
              "stdin",
              "stdout"
            ]
          },
          "timestamp": {
            "type": "number"
          },
          "payload": {
            "type": "object"
          },
          "provider": {
            "$ref": "#/components/schemas/Provider"
          },
          "worktreeId": {
            "type": "string"
          }
        },
        "additionalProperties": true
      },
      "WorktreeStatusPayload": {
        "type": "object",
        "properties": {
          "type": {
            "const": "worktree_status"
          },
          "worktreeId": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "ready",
              "processing",
              "stopped",
              "error"
            ]
          },
          "error": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "required": [
          "type",
          "worktreeId",
          "status"
        ],
        "additionalProperties": true
      },
      "WorktreeDiffPayload": {
        "type": "object",
        "properties": {
          "type": {
            "const": "worktree_diff"
          },
          "worktreeId": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "diff": {
            "type": "string"
          }
        },
        "required": [
          "type",
          "worktreeId"
        ],
        "additionalProperties": true
      }
    },
    "messages": {
      "Auth": {
        "name": "auth",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "auth"
            },
            "token": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "token"
          ],
          "additionalProperties": false
        }
      },
      "AuthOk": {
        "name": "auth_ok",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "auth_ok"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": true
        }
      },
      "Ping": {
        "name": "ping",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "ping"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": false
        }
      },
      "Pong": {
        "name": "pong",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "pong"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": false
        }
      },
      "Error": {
        "name": "error",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "error"
            },
            "message": {
              "type": "string"
            },
            "worktreeId": {
              "type": "string"
            },
            "error_code": {
              "type": "string"
            },
            "recoverable": {
              "type": [
                "boolean",
                "null"
              ]
            }
          },
          "required": [
            "type",
            "message"
          ],
          "additionalProperties": true
        }
      },
      "Status": {
        "name": "status",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "status"
            },
            "message": {
              "type": "string"
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            }
          },
          "required": [
            "type",
            "message"
          ],
          "additionalProperties": true
        }
      },
      "Ready": {
        "name": "ready",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "ready"
            },
            "threadId": {
              "type": "string"
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": true
        }
      },
      "ProviderStatus": {
        "name": "provider_status",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "provider_status"
            },
            "status": {
              "type": "string"
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            }
          },
          "required": [
            "type",
            "status"
          ],
          "additionalProperties": true
        }
      },
      "WorktreeStatus": {
        "name": "worktree_status",
        "payload": {
          "$ref": "#/components/schemas/WorktreeStatusPayload"
        }
      },
      "WorktreeReady": {
        "name": "worktree_ready",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "worktree_ready"
            },
            "worktreeId": {
              "type": "string"
            },
            "threadId": {
              "type": [
                "string",
                "null"
              ]
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            }
          },
          "required": [
            "type",
            "worktreeId"
          ],
          "additionalProperties": true
        }
      },
      "RepoDiff": {
        "name": "repo_diff",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "repo_diff"
            },
            "status": {
              "type": "string"
            },
            "diff": {
              "type": "string"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": true
        }
      },
      "WorktreeDiff": {
        "name": "worktree_diff",
        "payload": {
          "$ref": "#/components/schemas/WorktreeDiffPayload"
        }
      },
      "AgentReasoning": {
        "name": "agent_reasoning",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "agent_reasoning"
            },
            "text": {
              "type": "string"
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            },
            "worktreeId": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "text"
          ],
          "additionalProperties": true
        }
      },
      "AssistantDelta": {
        "name": "assistant_delta",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "assistant_delta"
            },
            "delta": {
              "type": "string"
            },
            "itemId": {
              "type": "string"
            },
            "turnId": {
              "type": "string"
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            },
            "worktreeId": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "delta"
          ],
          "additionalProperties": true
        }
      },
      "AssistantMessage": {
        "name": "assistant_message",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "assistant_message"
            },
            "text": {
              "type": "string"
            },
            "itemId": {
              "type": "string"
            },
            "turnId": {
              "type": "string"
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            },
            "worktreeId": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "text"
          ],
          "additionalProperties": true
        }
      },
      "CommandExecutionDelta": {
        "name": "command_execution_delta",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "command_execution_delta"
            },
            "delta": {
              "type": "string"
            },
            "itemId": {
              "type": "string"
            },
            "turnId": {
              "type": "string"
            },
            "threadId": {
              "type": "string"
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            },
            "worktreeId": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "delta"
          ],
          "additionalProperties": true
        }
      },
      "CommandExecutionCompleted": {
        "name": "command_execution_completed",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "command_execution_completed"
            },
            "item": {
              "type": "object"
            },
            "itemId": {
              "type": "string"
            },
            "turnId": {
              "type": "string"
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            },
            "worktreeId": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "item"
          ],
          "additionalProperties": true
        }
      },
      "ItemStarted": {
        "name": "item_started",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "item_started"
            },
            "item": {
              "type": "object"
            },
            "turnId": {
              "type": "string"
            },
            "threadId": {
              "type": "string"
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            },
            "worktreeId": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "item"
          ],
          "additionalProperties": true
        }
      },
      "TurnStarted": {
        "name": "turn_started",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "turn_started"
            },
            "turnId": {
              "type": "string"
            },
            "threadId": {
              "type": "string"
            },
            "status": {
              "type": "string"
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            },
            "worktreeId": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "turnId"
          ],
          "additionalProperties": true
        }
      },
      "TurnCompleted": {
        "name": "turn_completed",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "turn_completed"
            },
            "turnId": {
              "type": "string"
            },
            "threadId": {
              "type": "string"
            },
            "status": {
              "type": "string"
            },
            "error": {
              "type": [
                "string",
                "null"
              ]
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            },
            "worktreeId": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "turnId"
          ],
          "additionalProperties": true
        }
      },
      "TurnError": {
        "name": "turn_error",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "turn_error"
            },
            "turnId": {
              "type": [
                "string",
                "null"
              ]
            },
            "threadId": {
              "type": [
                "string",
                "null"
              ]
            },
            "message": {
              "type": "string"
            },
            "willRetry": {
              "type": [
                "boolean",
                "null"
              ]
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            },
            "worktreeId": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "message"
          ],
          "additionalProperties": true
        }
      },
      "TurnInterruptSent": {
        "name": "turn_interrupt_sent",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "turn_interrupt_sent"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": true
        }
      },
      "ActionRequest": {
        "name": "action_request",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "action_request"
            },
            "request": {
              "type": "string",
              "enum": [
                "run",
                "git"
              ]
            },
            "arg": {
              "type": "string"
            },
            "worktreeId": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "request",
            "arg"
          ],
          "additionalProperties": true
        }
      },
      "ActionRequestEcho": {
        "name": "action_request_echo",
        "summary": "Broadcast of a /run or /git request",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "action_request"
            },
            "id": {
              "type": "string"
            },
            "request": {
              "type": "string"
            },
            "arg": {
              "type": "string"
            },
            "text": {
              "type": "string"
            },
            "worktreeId": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "request",
            "arg"
          ],
          "additionalProperties": true
        }
      },
      "ActionResult": {
        "name": "action_result",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "action_result"
            },
            "id": {
              "type": "string"
            },
            "request": {
              "type": "string"
            },
            "arg": {
              "type": "string"
            },
            "status": {
              "type": "string",
              "enum": [
                "success",
                "error"
              ]
            },
            "output": {
              "type": "string"
            },
            "text": {
              "type": "string"
            },
            "requestMessageId": {
              "type": "string"
            },
            "worktreeId": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "status"
          ],
          "additionalProperties": true
        }
      },
      "WorktreeSendMessage": {
        "name": "worktree_send_message",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "worktree_send_message"
            },
            "worktreeId": {
              "type": "string"
            },
            "text": {
              "type": "string"
            },
            "displayText": {
              "type": "string"
            },
            "attachments": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/AttachmentRef"
              }
            }
          },
          "required": [
            "type",
            "worktreeId",
            "text"
          ],
          "additionalProperties": true
        }
      },
      "WorktreeMessagesSyncRequest": {
        "name": "worktree_messages_sync",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "worktree_messages_sync"
            },
            "worktreeId": {
              "type": "string"
            },
            "limit": {
              "type": "integer"
            },
            "lastSeenMessageId": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "worktreeId"
          ],
          "additionalProperties": true
        }
      },
      "WorktreeMessagesSync": {
        "name": "worktree_messages_sync_response",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "worktree_messages_sync"
            },
            "worktreeId": {
              "type": "string"
            },
            "messages": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/Message"
              }
            },
            "status": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "worktreeId",
            "messages"
          ],
          "additionalProperties": true
        }
      },
      "WakeUp": {
        "name": "wake_up",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "wake_up"
            },
            "worktreeId": {
              "type": "string"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": true
        }
      },
      "TurnInterrupt": {
        "name": "turn_interrupt",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "turn_interrupt"
            },
            "turnId": {
              "type": [
                "string",
                "null"
              ]
            },
            "worktreeId": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": true
        }
      },
      "ModelListRequest": {
        "name": "model_list",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "model_list"
            },
            "worktreeId": {
              "type": "string"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": true
        }
      },
      "ModelListResponse": {
        "name": "model_list_response",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "model_list"
            },
            "worktreeId": {
              "type": "string"
            },
            "models": {
              "type": "array",
              "items": {
                "type": "object"
              }
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            }
          },
          "required": [
            "type",
            "models"
          ],
          "additionalProperties": true
        }
      },
      "ModelSetRequest": {
        "name": "model_set",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "model_set"
            },
            "worktreeId": {
              "type": "string"
            },
            "model": {
              "type": [
                "string",
                "null"
              ]
            },
            "reasoningEffort": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": true
        }
      },
      "ModelSetResponse": {
        "name": "model_set_response",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "model_set"
            },
            "worktreeId": {
              "type": "string"
            },
            "model": {
              "type": [
                "string",
                "null"
              ]
            },
            "reasoningEffort": {
              "type": [
                "string",
                "null"
              ]
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": true
        }
      },
      "AccountLoginStart": {
        "name": "account_login_start",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "account_login_start"
            },
            "provider": {
              "type": "string"
            },
            "params": {
              "type": "object"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": true
        }
      },
      "AccountLoginStarted": {
        "name": "account_login_started",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "account_login_started"
            },
            "result": {
              "type": "object"
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": true
        }
      },
      "AccountLoginError": {
        "name": "account_login_error",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "account_login_error"
            },
            "message": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "message"
          ],
          "additionalProperties": true
        }
      },
      "AccountLoginCompleted": {
        "name": "account_login_completed",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "account_login_completed"
            },
            "success": {
              "type": "boolean"
            },
            "error": {
              "type": [
                "string",
                "null"
              ]
            },
            "loginId": {
              "type": [
                "string",
                "null"
              ]
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            }
          },
          "required": [
            "type",
            "success"
          ],
          "additionalProperties": true
        }
      },
      "ProviderSwitched": {
        "name": "provider_switched",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "provider_switched"
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            },
            "models": {
              "type": "array",
              "items": {
                "type": "object"
              }
            },
            "threadId": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "type",
            "provider"
          ],
          "additionalProperties": true
        }
      },
      "RpcLog": {
        "name": "rpc_log",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "rpc_log"
            },
            "entry": {
              "$ref": "#/components/schemas/RpcLogEntry"
            }
          },
          "required": [
            "type",
            "entry"
          ],
          "additionalProperties": true
        }
      },
      "SwitchProvider": {
        "name": "switch_provider",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "switch_provider"
            },
            "provider": {
              "$ref": "#/components/schemas/Provider"
            }
          },
          "required": [
            "type",
            "provider"
          ],
          "additionalProperties": true
        }
      },
      "TerminalInit": {
        "name": "terminal_init",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "init"
            },
            "cols": {
              "type": "integer"
            },
            "rows": {
              "type": "integer"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": true
        }
      },
      "TerminalResize": {
        "name": "terminal_resize",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "resize"
            },
            "cols": {
              "type": "integer"
            },
            "rows": {
              "type": "integer"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": true
        }
      },
      "TerminalInput": {
        "name": "terminal_input",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "input"
            },
            "data": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "data"
          ],
          "additionalProperties": true
        }
      },
      "TerminalOutput": {
        "name": "terminal_output",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "output"
            },
            "data": {
              "type": "string"
            }
          },
          "required": [
            "type",
            "data"
          ],
          "additionalProperties": true
        }
      },
      "TerminalExit": {
        "name": "terminal_exit",
        "payload": {
          "type": "object",
          "properties": {
            "type": {
              "const": "exit"
            },
            "code": {
              "type": [
                "integer",
                "null"
              ]
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": true
        }
      }
    }
  }
}